{"version":3,"file":"main-2ae9f357.js","sources":["../../src/assets/main.js"],"sourcesContent":["// import \"./assets/base.css\";\n// import \"./assets/main.css\";\n// import \"./assets/form.css\";\n\nconst $ = (e) => document.querySelector(e);\nconst $$ = (e) => document.querySelectorAll(e);\n\n// import { courseData } from \"./server/helpers/courseData.js\";\n\nlet pathArray = window.location.pathname.split('/');\nlet currentSlug = pathArray[2].toString();\nlet formID = currentSlug;\nconst url = location.href;\nlet nextButton = $('#next-form');\n\nconst formIdentifier = `${url} ${formID}`;\n\nlet form = $(`#${formID}`);\nlet formElements = form.elements;\n\n\nconsole.log(formElements)\n\n\n\n\n// courseData.forEach(element => {\n//   let formID = element.slug;\n// if (!formID) return;\n\n\n\n// console.log(form)\n// let url = location.href;\n// let formElements = form.elements\n\n// console.log(url)\n// console.log(formElements)\n  \n// });\n\n\nconst getFormData = () => {\n  let data = { [formIdentifier]: {} };\n  for (const element of formElements) {\n    if (element.name.length > 0) {\n      data[formIdentifier][element.name] = element.value;\n    }\n  }\n  return data;\n};\n\nconst nextBtn = $('#nextBtn');\nconst classSubmit = $('#next-form');\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  let data = getFormData();\n  localStorage.setItem(formIdentifier, JSON.stringify(data[formIdentifier]));\n  const message = \"Form draft has been saved!\";\n  console.log(message);\n  // event.currentTarget.submit();\n  console.log('nextBtn.value')\n  console.log(nextBtn.value)\n  // setTimeout(() => {\n  //   window.location.href = nextBtn.value\n  // }, 200);\n\n\n\n})\n\n// form.onclick = event => {\n\n// };\n\nclassSubmit.addEventListener('click', (e) => {\n  e.currentTarget.submit();\n})\nconst populateForm = () => {\n  if (localStorage.key(formIdentifier)) {\n    const savedData = JSON.parse(localStorage.getItem(formIdentifier)); // get and parse the saved data from localStorage\n    for (const element of formElements) {\n      if (element.name in savedData) {\n        element.value = savedData[element.name];\n      }\n    }\n    const message = \"Form has been refilled with saved data!\";\n    console.log(message);\n  }\n};\n\nconst logoutBTN = $(\"#logOutButton\");\n\nlogoutBTN.addEventListener(\"click\", () => {\n  window.localStorage.clear();\n})\n\ndocument.onload = populateForm();\n\n"],"names":[],"mappings":"AAIA,MAAM,IAAI,CAAC,MAAM,SAAS,cAAc,CAAC;AAKzC,IAAI,YAAY,OAAO,SAAS,SAAS,MAAM,GAAG;AAClD,IAAI,cAAc,UAAU,CAAC,EAAE,SAAQ;AACvC,IAAI,SAAS;AACb,MAAM,MAAM,SAAS;AACJ,EAAE,YAAY;AAE/B,MAAM,iBAAiB,GAAG,OAAO;AAEjC,IAAI,OAAO,EAAE,IAAI,QAAQ;AACzB,IAAI,eAAe,KAAK;AAGxB,QAAQ,IAAI,YAAY;AAqBxB,MAAM,cAAc,MAAM;AACxB,MAAI,OAAO,EAAE,CAAC,cAAc,GAAG,CAAE,EAAA;AACjC,aAAW,WAAW,cAAc;AAClC,QAAI,QAAQ,KAAK,SAAS,GAAG;AAC3B,WAAK,cAAc,EAAE,QAAQ,IAAI,IAAI,QAAQ;AAAA,IAC9C;AAAA,EACF;AACD,SAAO;AACT;AAEA,MAAM,UAAU,EAAE,UAAU;AAC5B,MAAM,cAAc,EAAE,YAAY;AAClC,KAAK,iBAAiB,UAAU,CAAC,UAAU;AACzC,QAAM,eAAc;AACpB,MAAI,OAAO;AACX,eAAa,QAAQ,gBAAgB,KAAK,UAAU,KAAK,cAAc,CAAC,CAAC;AACzE,QAAM,UAAU;AAChB,UAAQ,IAAI,OAAO;AAEnB,UAAQ,IAAI,eAAe;AAC3B,UAAQ,IAAI,QAAQ,KAAK;AAO3B,CAAC;AAMD,YAAY,iBAAiB,SAAS,CAAC,MAAM;AAC3C,IAAE,cAAc;AAClB,CAAC;AACD,MAAM,eAAe,MAAM;AACzB,MAAI,aAAa,IAAI,cAAc,GAAG;AACpC,UAAM,YAAY,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC;AACjE,eAAW,WAAW,cAAc;AAClC,UAAI,QAAQ,QAAQ,WAAW;AAC7B,gBAAQ,QAAQ,UAAU,QAAQ,IAAI;AAAA,MACvC;AAAA,IACF;AACD,UAAM,UAAU;AAChB,YAAQ,IAAI,OAAO;AAAA,EACpB;AACH;AAEA,MAAM,YAAY,EAAE,eAAe;AAEnC,UAAU,iBAAiB,SAAS,MAAM;AACxC,SAAO,aAAa;AACtB,CAAC;AAED,SAAS,SAAS,aAAc;"}