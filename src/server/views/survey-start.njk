{% extends  'layout.njk' %}
{% block  content %}
  <section>
    <h1>Welcome</h1>
    <p>{{ user.id }}</p>
    <p>{{ user.name }}</p>
    {# <p>{{{session}}}</p> #}
    <form action="/classes/start" method="POST" enctype="multipart/form-data">
      <h2>Choose the classes u followed in 2023</h2>
      {% for class in classes %}
        {% set checked = false %}
        {% for obj in user.classes %}
          {% if obj.name == class %}
            {% set checked = true %}
          {% endif %}
        {% endfor %}
        {% if checked %}
          <div>
            <input type="checkbox" name="classes" value="{{ class }}" id="{{class}}" checked>
              <label for='{{ class }}'>
                {{ class }}
              </label>
            </div>
          {% else %}
            <div>
              <input type="checkbox" name="classes" value="{{ class }}" id="{{class}}">
                <label for='{{ class }}'>
                  {{ class }}
                </label>
              </div>
            {% endif %}
          {% endfor %}
          <button type="submit">Confirm Classes</button>
        </form>
      </section>
    {% endblock %}